@using PagedList
@using PagedList.Mvc

@model IPagedList<MenuDetail>

@{
    ViewBag.Title = "DashBoard";
}

@section Scripts
{
    <link href="~/Content/menu.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/lib/font-awesome/css/all.min.css" />
}
<link href="~/Content/PagedList.css" rel="stylesheet" />


<div style="height: 100% ">
    <h1 style="font-size:30px;color:aliceblue;text-align: center; padding-top: 0px;">Hello <span style="color: #00ff82; background: rgb(0, 0, 0,0.5); border-radius: 8px; ">@Session["UserName"]</span> Welcome to The Imperial Spice...</h1>


    <div class="section-header">
        <div style="display: flex; justify-content: right;">
            <h2 style="margin: auto; font-size: 35px; color: #88ebd3ac;border-radius:5px; text-align: center; font-weight: 650 ">Our Menu</h2>
        </div>

        <br />
        <div style="display: flex; justify-content: flex-end;height:fit-content">
            <a href="@Url.Action("add", "MenuItem")" class="btn btn-primary" style="margin-top:5px;margin-right:30px;height:fit-content; align-content: center">
                <i class="fa fa-plus fa-1x" style="padding:0px" aria-hidden="true"></i>
            </a>
            @using (Html.BeginForm("TypeSearch", "UserLogin", FormMethod.Get))
            {
                <div style="display:inline-flex">
                    @Html.DropDownList("MealType", (IEnumerable<SelectListItem>)ViewBag.mealTypes, "---ALL---", new { @class = "dropdown", style = "height:28px;padding:2px;margin-top:9px" })
                    <button type="submit" value="register" class="btn btn-primary" style="height:22px;margin:5px;height:fit-content; align-content: center">
                        <i class="fa fa-search fa-1x" style="padding:0px" aria-hidden="true"></i>
                    </button>
                </div>
            }
            @using (Html.BeginForm("NameSearch", "UserLogin", FormMethod.Get))
            {
                <div style="display:inline-flex">
                    @Html.TextBox("searchString", "", new { @class = "", placeholder = "Search here...", style = "margin-top:8px;margin-bottom:8px" })
                    <button type="submit" value="register" class="btn btn-primary" style="margin:5px;height:fit-content; align-content: center">
                        <i class="fa fa-search fa-1x" style="padding:0px" aria-hidden="true"></i>
                    </button>
                </div>
            }

        </div>

        <br />

        <div id="loadpartial">
            @{
                Html.RenderPartial("DisplayMenuItem", Model);
            }
            <div id="Paging">
                @if (ViewBag.Action == "NameSearch")
                {
                    @Html.PagedListPager(Model, page => Url.Action("NameSearch", new { page, searchString = Request.QueryString["searchString"] }), new PagedListRenderOptions() { Display = PagedListDisplayMode.IfNeeded, DisplayPageCountAndCurrentLocation = true, DisplayItemSliceAndTotal = true })
                }
                else if (ViewBag.Action == "TypeSearch")
                {
                    @Html.PagedListPager(Model, page => Url.Action("TypeSearch", new { page, MealType = Request.QueryString["MealType"] }), new PagedListRenderOptions() { Display = PagedListDisplayMode.IfNeeded, DisplayPageCountAndCurrentLocation = true, DisplayItemSliceAndTotal = true })
                }
                else
                {
                    @Html.PagedListPager(Model, page => Url.Action("DashBoard", new { page }), new PagedListRenderOptions() { Display = PagedListDisplayMode.IfNeeded, DisplayPageCountAndCurrentLocation = true, DisplayItemSliceAndTotal = true })
                }
            </div>
        </div>



    </div>
</div>






